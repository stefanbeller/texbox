%
% connections.tex
% Copyright 2011, Jessica TÃ¶lke <jtoelke@gmx.com>
%
% This file is part of texbox.
%
% This program is free software; you can redistribute it and/or modify it
% under the terms of the GNU General Public License as published by the Free
% Software Foundation; either version 2 of the License, or (at your option)
% any later version.
%
% This program is distributed in the hope that it will be useful, but WITHOUT
% ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
% FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
% more details.
%
% You should have received a copy of the GNU General Public License along with
% this program. If not, see <http://www.gnu.org/licenses/>.
%

% arguments
% #1 coordinates
% #2 name
% #3 label
% resistor in vertical direction with label to the right
\newcommand{\RESISTORV}[3]
{
    \BOX{#1}{#2}{}{0.2,0.6}{}{NS};
    \draw (#2_OUTE) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% resistor in horizontal direction with label above
\newcommand{\RESISTORH}[3]
{
    \BOX{#1}{#2}{}{0.6,0.2}{}{WE};
    \draw (#2_OUTN) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% capacitor in vertical direction with label to the right
\newcommand{\CAPACITORV}[3]
{
    \path (#1) ++ (0,0.4) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.4) coordinate(#2_OUTS);
    \path (#1) ++ (-0.4,0) coordinate(#2_OUTW);
    \path (#1) ++ (0.4,0) coordinate(#2_OUTE);

    \path (#1) ++ (-0.2,0.05) coordinate(upperleft);
    \path (#1) ++ (0.2,0.05) coordinate(upperright);
    \path (#1) ++ (-0.2,-0.05) coordinate(lowerleft);
    \path (#1) ++ (0.2,-0.05) coordinate(lowerright);
    \path (#1) ++ (0,0.05) coordinate(uppermiddle);
    \path (#1) ++ (0,-0.05) coordinate(lowermiddle);

    \draw (uppermiddle) -- (#2_OUTN);
    \draw (lowermiddle) -- (#2_OUTS);
    \draw (upperleft) -- (upperright);
    \draw (lowerleft) -- (lowerright);

    \draw (#2_OUTE) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% capacitor in horizontal direction with label above
\newcommand{\CAPACITORH}[3]
{
    \path (#1) ++ (0,0.4) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.4) coordinate(#2_OUTS);
    \path (#1) ++ (-0.4,0) coordinate(#2_OUTW);
    \path (#1) ++ (0.4,0) coordinate(#2_OUTE);

    \path (#1) ++ (-0.05,0.2) coordinate(upperleft);
    \path (#1) ++ (0.05,0.2) coordinate(upperright);
    \path (#1) ++ (-0.05,-0.2) coordinate(lowerleft);
    \path (#1) ++ (0.05,-0.2) coordinate(lowerright);
    \path (#1) ++ (-0.05,0) coordinate(leftmiddle);
    \path (#1) ++ (0.05,0) coordinate(rightmiddle);

    \draw (#2_OUTW) -- (leftmiddle);
    \draw (#2_OUTE) -- (rightmiddle);
    \draw (upperleft) -- (lowerleft);
    \draw (upperright) -- (lowerright);

    \draw (#2_OUTN) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% diode pointing right with label above
\newcommand{\DIODER}[3]
{
    \path (#1) ++ (0.4,0) coordinate(#2_OUTE);
    \path (#1) ++ (-0.4,0) coordinate(#2_OUTW);
    \path (#1) ++ (0,0.3) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.3) coordinate(#2_OUTS);


    \path (#1) ++ (0.1,0) coordinate(right);
    \path (#1) ++ (0.1,0.1) coordinate(rightup);
    \path (#1) ++ (0.1,-0.1) coordinate(rightdown);
    \path (#1) ++ (-0.1,0) coordinate(left);
    \path (#1) ++ (-0.1,0.1) coordinate(leftup);
    \path (#1) ++ (-0.1,-0.1) coordinate(leftdown);

    \draw (#2_OUTW) -- (left);
    \draw (leftup) -- (leftdown);
    \draw (leftup) -- (right);
    \draw (leftdown) -- (right);
    \draw (#2_OUTE) -- (right);
    \draw (rightup) -- (rightdown);

    \draw (#2_OUTN) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% diode pointing left with label above
\newcommand{\DIODEL}[3]
{
    \path (#1) ++ (0.4,0) coordinate(#2_OUTE);
    \path (#1) ++ (-0.4,0) coordinate(#2_OUTW);
    \path (#1) ++ (0,0.3) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.3) coordinate(#2_OUTS);


    \path (#1) ++ (0.1,0) coordinate(right);
    \path (#1) ++ (0.1,0.1) coordinate(rightup);
    \path (#1) ++ (0.1,-0.1) coordinate(rightdown);
    \path (#1) ++ (-0.1,0) coordinate(left);
    \path (#1) ++ (-0.1,0.1) coordinate(leftup);
    \path (#1) ++ (-0.1,-0.1) coordinate(leftdown);

    \draw (#2_OUTW) -- (left);
    \draw (leftup) -- (leftdown);
    \draw (left) -- (rightup);
    \draw (left) -- (rightdown);
    \draw (#2_OUTE) -- (right);
    \draw (rightup) -- (rightdown);

    \draw (#2_OUTN) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% diode pointing up with label to the right
\newcommand{\DIODEU}[3]
{
    \path (#1) ++ (0.4,0) coordinate(#2_OUTE);
    \path (#1) ++ (-0.4,0) coordinate(#2_OUTW);
    \path (#1) ++ (0,0.3) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.3) coordinate(#2_OUTS);


    \path (#1) ++ (0,0.1) coordinate(top);
    \path (#1) ++ (0.1,0.1) coordinate(topright);
    \path (#1) ++ (0.1,-0.1) coordinate(bottomright);
    \path (#1) ++ (0,-0.1) coordinate(bottom);
    \path (#1) ++ (-0.1,0.1) coordinate(topleft);
    \path (#1) ++ (-0.1,-0.1) coordinate(bottomleft);

    \draw (#2_OUTS) -- (bottom);
    \draw (bottomleft) -- (bottomright);
    \draw (bottomleft) -- (top);
    \draw (bottomright) -- (top);
    \draw (topleft) -- (topright);
    \draw (#2_OUTN) -- (top);

    \draw (#2_OUTE) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% diode pointing down with label to the right
\newcommand{\DIODED}[3]
{
    \path (#1) ++ (0.4,0) coordinate(#2_OUTE);
    \path (#1) ++ (-0.4,0) coordinate(#2_OUTW);
    \path (#1) ++ (0,0.3) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.3) coordinate(#2_OUTS);


    \path (#1) ++ (0,0.1) coordinate(top);
    \path (#1) ++ (0.1,0.1) coordinate(topright);
    \path (#1) ++ (0.1,-0.1) coordinate(bottomright);
    \path (#1) ++ (0,-0.1) coordinate(bottom);
    \path (#1) ++ (-0.1,0.1) coordinate(topleft);
    \path (#1) ++ (-0.1,-0.1) coordinate(bottomleft);

    \draw (#2_OUTS) -- (bottom);
    \draw (bottomleft) -- (bottomright);
    \draw (bottom) -- (topright);
    \draw (bottom) -- (topleft);
    \draw (topleft) -- (topright);
    \draw (#2_OUTN) -- (top);

    \draw (#2_OUTE) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% inductor in horizontal direction with label above
\newcommand{\INDUCTORH}[3]
{
    \path (#1) ++ (0.6,0) coordinate(#2_OUTE);
    \path (#1) ++ (-0.6,0) coordinate(#2_OUTW);
    \path (#1) ++ (0,0.3) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.3) coordinate(#2_OUTS);


    \path (#1) ++ (-0.3,0) coordinate(left);

    \draw (#2_OUTW) -- (left) arc (180:0:0.075) arc (180:0:0.075) arc (180:0:0.075) arc (180:0:0.075) -- (#2_OUTE);

    \draw (#2_OUTN) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% inductor in vertical direction with label to the right
\newcommand{\INDUCTORV}[3]
{
    \path (#1) ++ (0.3,0) coordinate(#2_OUTE);
    \path (#1) ++ (-0.3,0) coordinate(#2_OUTW);
    \path (#1) ++ (0,0.6) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.6) coordinate(#2_OUTS);


    \path (#1) ++ (0,0.3) coordinate(top);

    \draw (#2_OUTN) -- (top) arc (90:-90:0.075) arc (90:-90:0.075) arc (90:-90:0.075) arc (90:-90:0.075) -- (#2_OUTS);

    \draw (#2_OUTE) node[draw=none,fill=none]{ \tiny{#3} };
}

% arguments
% #1 coordinates
% #2 name
% #3 label
% transformer with label above
\newcommand{\TRANSFORMER}[3]
{
    \path (#1) ++ (0,0.9) coordinate(#2_OUTN);
    \path (#1) ++ (0,-0.9) coordinate(#2_OUTS);
    \path (#1) ++ (-0.9,0.6) coordinate(#2_OUTNW);
    \path (#1) ++ (0.9,0.6) coordinate(#2_OUTNE);
    \path (#1) ++ (-0.9,-0.6) coordinate(#2_OUTSW);
    \path (#1) ++ (0.9,-0.6) coordinate(#2_OUTSE);

    \path (#1) ++ (-0.3,0.6) coordinate(topl);
    \path (#1) ++ (0.3,0.6) coordinate(topr);

    \path (#1) ++ (-0.5,0.45) coordinate(dotl);
    \path (#1) ++ (0.5,0.45) coordinate(dotr);

    \draw (#2_OUTNW) -- (topl) arc (90:-90:0.15) arc (90:-90:0.15) arc (90:-90:0.15) arc (90:-90:0.15) -- (#2_OUTSW);
    \draw (#2_OUTNE) -- (topr) arc (90:270:0.15) arc (90:270:0.15) arc (90:270:0.15) arc (90:270:0.15) -- (#2_OUTSE);

    \filldraw (dotl) circle (0.03);
    \filldraw (dotr) circle (0.03);

    \draw (#2_OUTN) node[draw=none,fill=none]{ \tiny{#3} };
}
